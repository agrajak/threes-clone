{"version":3,"sources":["interfaces.ts","utils.ts","models/index.ts","models/matrix.ts","Board.ts","index.ts","../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AMAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AHLJ,AJYa,AEVb,IKGIA,AHLJ,AFEA,GFUa,COPL,APOK,COPJI,ALHT,GEFA,AJYa,GOPT,AHLJ,AJYoB,CAAC,CAAD,EAAI,CAAC,CAAL,CIZpB,AJYa,CIZb,iBAAA,CAAA;AEME,ACAC,APOU,AEXb,ADAA,GMEE,IPSW,CAAA,CMPJnB,ALJO,IDWH,GAAQ,CAAC,CMPpB,ANOmB,EAAI,CAAJ,ACXrB,CDWa,ACXgB,GAA7B,EAA4C;AKK3C,AFND,AJaa,AEZb,ADA6B,IGD7B,EHC6B,CDYhB,CAAA,CCZgB,CDYhB,EEZb,CFYkB,CAAC,ACZU,CDYT,CIbpB,AJakB,EAAK,CIbvB,AJakB,ACZW,CDYhB,ACZgB,EAAA,IGD7B,CAAA,cAAA,CAAA;AGMEgB,APQW,AEbb,ADA6B,EMK3BA,ENL2B,GDahB,ACbgB,CDahB,CORJ,CAACI,ANLmB,CCA7B,ADA6B,CDahB,EORX,CPQkB,CAAC,AEbrB,CKKiBL,APQG,EAAI,AEbxB,CFaoB,CORC,APQR,CORSK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,AHNF,AFCE,ADD0C,EMM1CA,EHNF,EGMM,CAACS,EDCEtB,AJNP,EEDF,GAAA,GGME,CAAgBuB,ALLhB,GIMF,AFPA,AFC+B,CED/B,EEOwB,CJNW,GAAJ,EKK7B,ALLA,CKK6BT,AHN/B,CAAA,MGME,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD,ALeA;AIbC,AFPF,ACJA,AJGE,IGCI,ACJN,ECWM,GLRG,EIHT,CDIc,CHDD,CIHb,AJGc,CGCG,GAAjB,CHDS,CAAW,IAAI,CAAC,IIHzB,CAAA,CJGoB,KAAgB,CIHpC,CAAA,CJGS,CAAP,OIHF,CAAA,CAAA;ACYI,ACDJ,ALPE,ADAD,ECAC,EKOEC,GLPF,CAAA,EIQQ,IAAIxB,ACDA,GAAG,ALPf,CAAA,CIQQ,CJRR,CIQE,ACDJ,ELPE,UAAG,IAAH,EAAiB,OAAjB,EAAkC;AISjC,AFRH,ACJA,AHII,GIMF,CAEE,AFRJ,GCJA,CAAA,CDIA,AFAS,EIQEC,GAAP,EAAY,EJRZ,CAAe,GAAf,CAAmB,KGJvB,CAAA;ACaI,ACFJ,AHPA,AFCM,ADJN,MCIM,CDJN,CKYQC,ALZR,CMUSuB,CLNC,EAAA,GIQK,CJTQ,EISL,ACFlB,CDEmB,CLZnB,CMUqB,ENVrB,CKYwBxB,GAAG,CAACE,KAAV,EAAiBC,ALZnC,KKYkB,CAAuB,+DAAvB,CAAd;ACDF,AHRF,ACHA,AHKM,MKMAoB,ALNA,CGLN,CAAA,IDGA,CFEa,EAAA,CKMX,EAAgB,UFXlB,CAAA;ACaI,ACDA,AHKF,AFdqB,ADAvB,KCAI,GIUItB,CLVQ,EGcd,IEJE,CFIF,CEJe,EFIf,CHdF,GAA2B;AKWrB,ACDH,AHRD,ACHF,AHKG,ADHD,CIFD,EHAC,MEGA,AHDO,IKUIG,ADZZ,EDGC,GAAS,GHDU,CGCN,AHDO,CKUC,ALVF,CKUGH,ALVf,GAAkB,CAAzB,EGCa,CESgB,AFThB,CESiB,CAAD,CAAR,CAAjB,EFTK,EAAT;AEUG,AFTH,ACHA,AJED,MIFK,GDGJ,ICHI,CAAA,KDGJ,ECHA,CDGa,KAAb;AEUC,ACDDsB,AHPA,ACJD,AHIC,CGNF,CEaEA,ALPA,KAAA,CAAA,CEAA,GGOU,GAAGE,ELPb,CAAA,GAAA,CEAA,EFAA,CKOuB,AHPW,CGOV,CHPxB,OFAI,IKOgC,ALPpC,EAAgB;AKQd,AHPF,AFDA,ADLF,OAAA,CMaQC,ALRN,ADLF,CGME,IGOW,ALRX,EECA,CGOcC,ALRd,EECS,CAAT,AHNF,CCKE,EDLF,EMawB,CAACC,QNbzB,QMagB,CAA0B,wBAA1B,CAAZ;ADEF,AFRA,SEQO,AFRP,GEQA,EFRA,GAAQ,CAAR;AESD,ACFG,AHNF,AFFE,ADHJ,ICGI,KKQK,AHNP,AFFO,ADHO,CCGN,EEER,CGMWC,CAAC,ALRV,CEEI,AFFO,CEEb,CGMe,CAAb,EAAgBA,ALRA,CKQC,ENXrB,CMWwBH,ENXM,GMWD,ALRzB,CKQ0BI,CLPvB,KKOH,CLRA,CKQkCD,ALPxB,CKOyB,EAAnC,EAAuC,KLP5B,CAAD,EAAE;AKQV,AHNJ,AFFmB,ADHnB,SGKA,AHLO,CMWCrB,ANXA,GGKR,AFFmB,CAAC,CAAC,CKQP,AHNP,CGMQJ,ELRI,CEEnB,EHLoB,CAAC,CCGS,ADHV,CAAb,EMWC,ANXiB,CMWCsB,ALRP,KKQY,CAACG,CAAD,CAAL,CAASb,ENXE,CAAC,CMW9B,ANX6B,CAA9B,CAAP,IMW6CR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AHNN,AFHkC,ADFnC,KCCG,EAEG,CKQCA,CDECN,AFRP,CAAA,GAAI,CFJF,CAEW,EEEb,CGMgB,CDElB,ACFmBsB,CDECrB,GAApB,CCFwB,CDEC,ACFAwB,ALRT,CKQQ,CAAN,CAAV,CLRO,EAAiB;AIW9B,ACFK,AHNL,AFFM,MAAA,GIUC,AFRP,CEQQ,AFRR,CFFU,CAAC,CEEP,EEQSxB,EFRb,CEQO,EAAWC,CJVZ,CAAe,KIUd,CAAmB,AJVpB,CAAsB,IAAtB,iEIUC,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHNH,AFFK,ADPP,KCGI,EDHJ,CAAA,CGSE,QAAA,GAAW,EHTb,GGSE,AHTF,cAAA;AGYI,AFJD,GAND,MEUO,CAAL,GAAS,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAT;AEOJC,ACFIgB,AHJA,AHVJ,IMcIA,GDEG,CAACzB,CFNC,AHVO,KMcF,GAAG,ANdjB,CAAyB,EKgBzB,CCFI,AHJA,AHVJ,EKgBuBD,ALhBK,kBKgB5B;AACAU,ACFG,AHJC,AFLF,ADLA,ECKA,CKAuB,EASpB,EDEE,ACXkB,ALAvB,CIWMH,ACXN,ALAA,CEKO,AHVA,CAAC,IAAI,CGUV,AHVW,ECKb,CIWF,AJXE,EDLQ,CKgBWA,ALhBA,CCKnB,EDLsB,CCKtB,EDLyB,CAAjB,CAAD,EKgBT,ALhB+B,GAAG,CCK3B,EDL8B,CAA5B,CCKP,ADLA,ECKmB,OAAnB,EAAsC;AKUvC,AHJG,AFNiB,ADJpB,QCIoB,CEMZ,MFNY,GEMjB,EFNiB,KAAA,CAAA,EAAA;AEOjB,AFPiB,MAAA,GEOZ,IFPY,EEOjB,CAAY,AFPK,IEOjB,KFPiB;AKYrB2B,AHJI,AFRoC,ADNxC,MMkBM,CAACxB,ANlBP,CAAA,CGcS,KGIT,EHJI,AHdJ,CMkBiBiB,ENlBjB,OMkBA,CNlBA;AGeG;AFRC,ADJJ,ICII,KAAK,ADJO,CCIN,IAAN,ADJJ,CCIe,ADJO,EAAtB,EAAuC,CCInB,SAAhB,EACG,MADH,CACU,UAAC,CAAD,EAAE;AEQd,AFRmB,EEQnB,IHbqB,CGarB,CAAA,CHbwB,GAAA,CCKL,CAAC,ADLI,CCKH,ADLG,CAAA,CGaxB,CAAA,CFRmB,KAAW,IAAX,EEQnB,GAAA,YAAA;AACE,AFTgC,KADhC,CDJwB,CCMrB,EEQE,AHdsB,GAAA,ECI3B,ADJ2B,CGc3B,AFRW,ADNgB,CGcf,AHde,EGc3B,CAAe,KAAf,CFRY,CEQU,KAAK,EFRhB,EAAS,EEQE,CAAY,IAAZ,CAAiB,IAAjB,CAAtB;AACA,AFRI,ADNN,MCMM,GEQC,AHdA,GAAG,ECMI,CEQZ,AFRa,ADNF,CGcC,AHdP,EGcL,CAAe,AHdA,GCMX,ADNN,CCMuB,GEQrB,EAAwB,EFRpB,GEQyB,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAxB;AAEA,AFTG,ADNN,IGeG,CFbA,KEaM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAlC;AACA,AFTD,GAND,CEeE,MAAM,CAAC,gBAAP,CAAwB,WAAxB,EAAqC,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAArC;AACA,AHnBJ,IGmBI,GHnBJ,CAAA,EGmBU,CAAC,EHnBX,GAAA,KAAA,MGmBI,CAAwB,SAAxB,EAAmC,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAAnC;AACA,AFVJ,IEUI,KFVJ,CEUU,CAAC,GFVX,aEUI,CAAwB,YAAxB,EAAsC,KAAK,OAAL,CAAa,IAAb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","file":"threes-clone.77de5100.js","sourceRoot":"..","sourcesContent":["export interface ThreeEvent {\n  type: string;\n  handler: Function;\n}\n\nexport type Point = [number, number];\n\nexport interface Cell {\n  number: number;\n  score: number;\n}\n\nexport const LEFT = [0, -1] as const;\nexport const RIGHT = [0, 1] as const;\nexport const UP = [-1, 0] as const;\nexport const DOWN = [1, 0] as const;\n\nexport type Direction = typeof LEFT | typeof RIGHT | typeof UP | typeof DOWN;\n","import { Point } from \"./interfaces\";\n\nexport function getRandomInt(max: number = 1) {\n  return Math.floor(Math.random() * max);\n}\nexport function getOneOrTwo() {\n  return getRandomInt(2) + 1;\n}\nexport function getRandomPoint(): Point {\n  return [getRandomInt(4), getRandomInt(4)];\n}\nexport function toRowCol(idx): Point {\n  return [Math.floor(idx / 4), idx % 4];\n}\nexport function toIdx([row, col]: Point) {\n  return row * 4 + col;\n}\nexport function pickRandomOne(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n","import { ThreeEvent } from \"../interfaces\";\n\nclass Model {\n  observers: Set<ThreeEvent> = new Set();\n  on(type: string, handler: Function) {\n    this.observers.add({\n      type,\n      handler,\n    });\n  }\n  off(type: string) {\n    Array.from(this.observers)\n      .filter((x) => x.type === type)\n      .forEach((item: ThreeEvent) => {\n        this.observers.delete(item);\n      });\n  }\n  emit(type: string, payload = undefined) {\n    Array.from(this.observers)\n      .filter((x) => x.type === type)\n      .forEach((observer) => {\n        observer.handler(payload);\n      });\n  }\n}\n\nexport default Model;\n","import { Cell, Direction, DOWN, LEFT, Point, RIGHT, UP } from \"../interfaces\";\nimport { getRandomPoint, pickRandomOne, toIdx, toRowCol } from \"../utils\";\nimport Model from \"./index\";\nexport class Matrix extends Model {\n  m: Cell[];\n  constructor() {\n    super();\n    this.m = Array.from({ length: 16 }, () => ({ number: 0, score: 0 }));\n    this.emit(\"init\");\n  }\n  init() {\n    this.m = Array.from({ length: 16 }, () => ({ number: 0, score: 0 }));\n    for (let i = 0; i < 3; i++) {\n      const point = getRandomPoint();\n      const value = pickRandomOne([1, 2, 3]);\n      this.mutate(point, { number: value });\n    }\n    this.emit(\"add\");\n  }\n  getScore() {\n    return this.m.map((x) => x.score).reduce((a, b) => a + b, 0);\n  }\n  add(direction, value) {\n    let col = -1,\n      row = -1;\n    const available = [];\n    const isVertical = direction == LEFT || direction == RIGHT;\n    if (isVertical) {\n      if (direction == LEFT) col = 3;\n      else if (direction == RIGHT) col = 0;\n      for (let row = 0; row < 4; row++) {\n        if (this.at([row, col]).number == 0) {\n          available.push([row, col]);\n        }\n      }\n    } else {\n      if (direction == UP) row = 3;\n      else if (direction == DOWN) row = 0;\n      for (let col = 0; col < 4; col++) {\n        if (this.at([row, col]).number == 0) {\n          available.push([row, col]);\n        }\n      }\n    }\n\n    if (available.length == 0) {\n      return false;\n    }\n    this.mutate(pickRandomOne(available), { number: value });\n    this.emit(\"add\");\n    return true;\n  }\n  merge(direction: Direction) {\n    const [dx, dy] = direction;\n    const indices = this.getMoveableCellIndices(direction);\n    indices\n      .map((idx) => toRowCol(idx))\n      .forEach(([row, col]) => {\n        const _x = row + dx,\n          _y = col + dy;\n        const oldCell = this.at([_x, _y]);\n        const newCell = this.at([row, col]);\n        this.mutate([_x, _y], {\n          number: oldCell.number + newCell.number,\n          score: oldCell.score + newCell.score + 2,\n        });\n        this.mutate([row, col], {\n          number: 0,\n          score: 1,\n        });\n      });\n    this.emit(\"merge\");\n  }\n  mutate(point: Point, value: Partial<Cell>) {\n    const idx = toIdx(point);\n    this.m = Object.assign([], this.m, {\n      [idx]: { ...this.at(idx), ...value },\n    });\n  }\n  at(param: number | Point) {\n    const idx = typeof param == \"number\" ? param : toIdx(param);\n    return this.m[idx];\n  }\n  getMoveableCellIndices(direction: Direction) {\n    if (!direction) return [];\n    const [dx, dy] = direction;\n    const indices: number[] = [];\n\n    let isVertical = direction == LEFT || direction == RIGHT;\n    let row = 0,\n      col = 0;\n\n    if (direction == LEFT) col = 1;\n    else if (direction == RIGHT) col = 2;\n    else if (direction == UP) row = 1;\n    else if (direction == DOWN) row = 2;\n\n    for (let i = 0; i < 12; i++) {\n      const _x = dx + row,\n        _y = dy + col;\n      if (\n        (isMergable(this.at([_x, _y]).number, this.at([row, col]).number) ||\n          indices.indexOf(toIdx([_x, _y])) != -1) &&\n        this.at([row, col]).number != 0\n      ) {\n        indices.push(toIdx([row, col]));\n      }\n      if (isVertical) {\n        if (i % 4 == 3) {\n          col -= dy;\n        }\n        row = (row + 1) % 4;\n      } else {\n        if (i % 4 == 3) {\n          row -= dx;\n        }\n        col = (col + 1) % 4;\n      }\n    }\n    return indices;\n  }\n  iterate(callback) {\n    this.m.forEach((cell, idx) => {\n      callback([...toRowCol(idx), idx, cell]);\n    });\n  }\n}\n\nfunction isMergable(a: number, b: number) {\n  if (a == 0 || b == 0) return true;\n  if (a != b && a + b == 3) return true;\n  if (a == b && a + b != 2 && a + b != 4) return true;\n  return false;\n}\n","import { Matrix } from \"./models/matrix\";\r\nimport { Cell, Direction, LEFT, RIGHT, UP, DOWN } from \"./interfaces\";\r\nimport { pickRandomOne } from \"./utils\";\r\n\r\nconst DURATION = 200;\r\nexport default class Board {\r\n  $: HTMLDivElement;\r\n  matrix = new Matrix();\r\n  isDragging = false;\r\n  direction: Direction;\r\n  moveableCells: HTMLDivElement[] = [];\r\n  maxPos = 0;\r\n  delta = 0;\r\n  pos = 0;\r\n  next = null;\r\n  x = null;\r\n  y = null;\r\n  isMoving = false;\r\n\r\n  constructor() {\r\n    this.$ = document.getElementById(\"board\") as HTMLDivElement;\r\n    this.bindHandlers();\r\n    this.render();\r\n    this.setMaxPos();\r\n    this.matrix.init();\r\n    this.setNext();\r\n  }\r\n  bindHandlers() {\r\n    this.matrix.on(\"add\", this.render.bind(this));\r\n    this.matrix.on(\"merge\", this.render.bind(this));\r\n\r\n    window.addEventListener(\"resize\", this.onResize.bind(this));\r\n    window.addEventListener(\"mousedown\", this.dragStart.bind(this));\r\n    window.addEventListener(\"mouseup\", this.dragEnd.bind(this));\r\n    window.addEventListener(\"mouseleave\", this.dragEnd.bind(this));\r\n    window.addEventListener(\"mousemove\", this.dragging.bind(this));\r\n    window.addEventListener(\"touchstart\", this.dragStart.bind(this));\r\n    window.addEventListener(\"touchend\", this.dragEnd.bind(this));\r\n    window.addEventListener(\"touchmove\", this.dragging.bind(this));\r\n    window.addEventListener(\"keydown\", this.onKeyDown.bind(this));\r\n  }\r\n  onKeyDown(event: KeyboardEvent) {\r\n    const { key } = event;\r\n    console.log(key);\r\n    switch (key) {\r\n      case \"ArrowUp\":\r\n        this.direction = UP;\r\n        break;\r\n      case \"ArrowDown\":\r\n        this.direction = DOWN;\r\n        break;\r\n      case \"ArrowLeft\":\r\n        this.direction = LEFT;\r\n        break;\r\n      case \"ArrowRight\":\r\n        this.direction = RIGHT;\r\n        break;\r\n    }\r\n    this.translate(0, this.maxPos, 60).then(() => {\r\n      this.move();\r\n    });\r\n  }\r\n  onResize() {\r\n    this.setMaxPos();\r\n    this.resizeCards();\r\n    this.translateCells(0);\r\n  }\r\n  dragStart(event) {\r\n    const { clientX, clientY } = this.touchEventHelper(event);\r\n    this.x = clientX;\r\n    this.y = clientY;\r\n    this.isDragging = true;\r\n  }\r\n  dragEnd() {\r\n    if (this.moveableCells.length == 0) return;\r\n    let delta = Math.min(this.maxPos, this.delta);\r\n    if (delta / this.maxPos > 0.6) {\r\n      this.translate(delta, this.maxPos, 70).then(() => {\r\n        this.move();\r\n      });\r\n    } else {\r\n      this.translate(delta, 0, 70).then(() => {\r\n        this.isDragging = false;\r\n        this.direction = null;\r\n        this.pos = null;\r\n      });\r\n    }\r\n  }\r\n  move() {\r\n    if (!this.direction) return;\r\n    this.matrix.merge(this.direction);\r\n    const done = this.matrix.add(this.direction, this.next);\r\n    this.setScore();\r\n    this.setNext();\r\n    this.isDragging = false;\r\n    this.direction = null;\r\n    this.delta = 0;\r\n    if (!done) {\r\n      alert(`님 주금! 당신의 점수 [${this.matrix.getScore()}]`);\r\n      this.matrix.init();\r\n      this.setScore();\r\n      return;\r\n    }\r\n  }\r\n  setScore() {\r\n    const score = this.matrix.getScore();\r\n    (document.body.querySelector(\r\n      \"#score-number\"\r\n    ) as HTMLDivElement).innerText = `${score}`;\r\n  }\r\n  translate(from = 0, to = this.maxPos, duration = 100) {\r\n    const isLocked = this.isMoving == true;\r\n    this.isMoving = true;\r\n    let startAt = null;\r\n    let translateCells = this.translateCells.bind(this);\r\n    function interpolate(timestamp) {\r\n      return ((timestamp - startAt) / duration) * (to - from) + from;\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      if (isLocked) reject();\r\n      const step = (timestamp) => {\r\n        if (!startAt) startAt = timestamp;\r\n        if (timestamp > startAt + duration) {\r\n          resolve();\r\n          this.isMoving = false;\r\n          translateCells(to);\r\n          return;\r\n        }\r\n        translateCells(interpolate(timestamp));\r\n        requestAnimationFrame(step);\r\n      };\r\n      requestAnimationFrame(step);\r\n    });\r\n  }\r\n  touchEventHelper(event: MouseEvent | TouchEvent) {\r\n    if (event instanceof MouseEvent) return event;\r\n    return event.touches[0];\r\n  }\r\n  getNext() {\r\n    let pick = pickRandomOne([1, 2, 3]);\r\n    if (pick == 1 || pick == 2) {\r\n      const numOfOne = this.matrix.m\r\n        .map((cell) => cell.number)\r\n        .filter((x) => x == 1).length;\r\n      const numOfTwo = this.matrix.m\r\n        .map((cell) => cell.number)\r\n        .filter((x) => x == 2).length;\r\n\r\n      if (numOfOne > numOfTwo + 2) return 2;\r\n      else if (numOfTwo > numOfOne + 2) return 1;\r\n      return pick;\r\n    }\r\n    return 3;\r\n  }\r\n  setNext() {\r\n    this.next = this.getNext();\r\n\r\n    (document.body.querySelector(\r\n      \"#next-number\"\r\n    ) as HTMLDivElement).innerText = `${this.next}`;\r\n  }\r\n  dragging(event) {\r\n    if (!this.isDragging) return;\r\n    const { clientX, clientY } = this.touchEventHelper(event);\r\n    const dx = clientX - this.x,\r\n      dy = clientY - this.y;\r\n    if (dx == 0 && dy == 0) return;\r\n    this.x = clientX;\r\n    this.y = clientY;\r\n    const direction = getDirectionFromMovement(dx, dy);\r\n\r\n    if (!this.direction) {\r\n      this.direction = direction;\r\n      this.moveableCells = this.matrix\r\n        .getMoveableCellIndices(direction)\r\n        .map((idx) => this.getCardNodeByIdx(idx));\r\n\r\n      this.pos = this.isVertical() ? clientX : clientY;\r\n    }\r\n    let pos = this.isVertical() ? clientX : clientY;\r\n\r\n    /**\r\n     * delta: 방향에 따른 상대 거리. 내가 맨처음에 의도한 방향으로 움직이고 있으면 부호가 +, 반대 방향으로 움직이고 있으면 -\r\n     */\r\n    const delta =\r\n      (pos - this.pos) *\r\n      (this.isVertical() ? this.direction[1] : this.direction[0]);\r\n\r\n    if (delta < 0) {\r\n      this.direction = null;\r\n      return;\r\n    }\r\n\r\n    this.delta = delta;\r\n\r\n    this.translateCells(Math.min(delta, this.maxPos));\r\n  }\r\n\r\n  translateCells(delta) {\r\n    const [dx, dy] = this.direction ?? [0, 0];\r\n    const indices = this.matrix.getMoveableCellIndices(this.direction);\r\n    this.matrix.iterate(([row, col, idx, cell]) => {\r\n      if (cell.number == 0) return;\r\n      let y = row * this.maxPos,\r\n        x = col * this.maxPos;\r\n\r\n      if (indices.indexOf(idx) != -1) {\r\n        y += delta * dx;\r\n        x += delta * dy;\r\n      }\r\n      const node = this.$.querySelector(\r\n        `.card[idx=\"${idx}\"]`\r\n      ) as HTMLDivElement;\r\n      node.style.zIndex = `${this.matrix.at(idx).score}`;\r\n      node.style.transform = `translate(${x}px, ${y}px)`;\r\n    });\r\n  }\r\n\r\n  isVertical() {\r\n    return this.direction == LEFT || this.direction == RIGHT;\r\n  }\r\n\r\n  render() {\r\n    this.$.querySelectorAll(\".card\").forEach((node) => {\r\n      this.$.removeChild(node);\r\n    });\r\n    this.matrix.iterate(([_, _, idx, cell]) => {\r\n      if (cell.number == 0) return;\r\n      const node = createCardNode(idx);\r\n      changeCardNode(node, cell.number);\r\n      this.$.appendChild(node);\r\n    });\r\n    this.resizeCards();\r\n    this.translateCells(0);\r\n  }\r\n\r\n  resizeCards() {\r\n    this.$.querySelectorAll(\".card\").forEach((node) => {\r\n      if (!(node instanceof HTMLDivElement)) return;\r\n      node.style.width = node.style.height = `${this.getCardSize()}px`;\r\n    });\r\n  }\r\n  getCardSize() {\r\n    const cellNode = this.$.querySelector(\".cell\") as HTMLDivElement;\r\n    return cellNode.offsetHeight;\r\n  }\r\n\r\n  setMaxPos() {\r\n    if (this.$.childNodes.length == 0) return 0;\r\n    const gapSize = parseInt(getComputedStyle(this.$).rowGap);\r\n    this.maxPos = gapSize + this.getCardSize();\r\n  }\r\n\r\n  getCardPositionByIdx(idx: number) {\r\n    const { top, left } = this.$.querySelector(\r\n      `.cell[idx=\"${idx}\"]`\r\n    ).getBoundingClientRect();\r\n    return [top, left];\r\n  }\r\n\r\n  getCardNodeByIdx(idx: number) {\r\n    return this.$.querySelector(`.card[idx=\"${idx}\"]`) as HTMLDivElement;\r\n  }\r\n}\r\n\r\nfunction getDirectionFromMovement(movementX, movementY) {\r\n  if (Math.abs(movementX) > Math.abs(movementY)) {\r\n    if (movementX > 0) return RIGHT;\r\n    else return LEFT;\r\n  } else {\r\n    if (movementY > 0) return DOWN;\r\n    else return UP;\r\n  }\r\n}\r\nfunction changeCardNode(node: HTMLDivElement, value: number) {\r\n  node.innerText = `${value}`;\r\n  if (value == 0) {\r\n    node.classList.remove(\"card\");\r\n  } else {\r\n    node.classList.add(\"card\");\r\n  }\r\n  node.setAttribute(\"value\", value + \"\");\r\n}\r\nfunction createCardNode(idx) {\r\n  const node = document.createElement(\"div\");\r\n  node.classList.add(\"card\");\r\n  if (idx !== undefined) {\r\n    node.setAttribute(\"idx\", idx);\r\n  }\r\n  return node;\r\n}\r\n","import Board from \"./Board\";\r\nimport \"./styles/index.css\";\r\nimport \"./styles/cards.css\";\r\n\r\n(function () {\r\n  new Board();\r\n})();\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}