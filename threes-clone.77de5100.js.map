{"version":3,"sources":["interfaces.ts","utils.ts","models/index.ts","models/matrix.ts","Board.ts","index.ts","../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AMAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AHLJ,AJYa,AEVb,IKGIA,AHLJ,AFEA,GFUa,COPL,APOK,COPJI,ALHT,GEFA,AJYa,GOPT,AHLJ,AJYoB,CAAC,CAAD,EAAI,CAAC,CAAL,CIZpB,AJYa,CIZb,iBAAA,CAAA;AEME,ACAC,APOU,AEXb,ADAA,GMEE,IPSW,CAAA,CMPJnB,ALJO,IDWH,GAAQ,CAAC,CMPpB,ANOmB,EAAI,CAAJ,ACXrB,CDWa,ACXgB,GAA7B,EAA4C;AKK3C,AFND,AJaa,AEZb,ADA6B,IGD7B,EHC6B,CDYhB,CAAA,CCZgB,CDYhB,EEZb,CFYkB,CAAC,ACZU,CDYT,CIbpB,AJakB,EAAK,CIbvB,AJakB,ACZW,CDYhB,ACZgB,EAAA,IGD7B,CAAA,cAAA,CAAA;AGMEgB,APQW,AEbb,ADA6B,EMK3BA,ENL2B,GDahB,ACbgB,CDahB,CORJ,CAACI,ANLmB,CCA7B,ADA6B,CDahB,EORX,CPQkB,CAAC,AEbrB,CKKiBL,APQG,EAAI,AEbxB,CFaoB,CORC,APQR,CORSK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,AHNF,AFCE,ADD0C,EMM1CA,EHNF,EGMM,CAACS,EDCEtB,AJNP,EEDF,GAAA,GGME,CAAgBuB,ALLhB,GIMF,AFPA,AFC+B,CED/B,EEOwB,CJNW,GAAJ,EKK7B,ALLA,CKK6BT,AHN/B,CAAA,MGME,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD,ALeA;AIbC,AFPF,ACJA,AJGE,IGCI,ACJN,ECWM,GLRG,EIHT,CDIc,CHDD,CIHb,AJGc,CGCG,GAAjB,CHDS,CAAW,IAAI,CAAC,IIHzB,CAAA,CJGoB,KAAgB,CIHpC,CAAA,CJGS,CAAP,OIHF,CAAA,CAAA;ACYI,ACDJ,ALPE,ADAD,ECAC,EKOEC,GLPF,CAAA,EIQQ,IAAIxB,ACDA,GAAG,ALPf,CAAA,CIQQ,CJRR,CIQE,ACDJ,ELPE,UAAG,IAAH,EAAiB,OAAjB,EAAkC;AISjC,AFRH,ACJA,AHII,GIMF,CAEE,AFRJ,GCJA,CAAA,CDIA,AFAS,EIQEC,GAAP,EAAY,EJRZ,CAAe,GAAf,CAAmB,KGJvB,CAAA;ACaI,ACFJ,AHPA,AFCM,ADJN,MCIM,CDJN,CKYQC,ALZR,CMUSuB,CLNC,EAAA,GIQK,CJTQ,EISL,ACFlB,CDEmB,CLZnB,CMUqB,ENVrB,CKYwBxB,GAAG,CAACE,KAAV,EAAiBC,ALZnC,KKYkB,CAAuB,+DAAvB,CAAd;ACDF,AHRF,ACHA,AHKM,MKMAoB,ALNA,CGLN,CAAA,IDGA,CFEa,EAAA,CKMX,EAAgB,UFXlB,CAAA;ACaI,ACDA,AHKF,AFdqB,ADAvB,KCAI,GIUItB,CLVQ,EGcd,IEJE,CFIF,CEJe,EFIf,CHdF,GAA2B;AKWrB,ACDH,AHRD,ACHF,AHKG,ADHD,CIFD,EHAC,MEGA,AHDO,IKUIG,ADZZ,EDGC,GAAS,GHDU,CGCN,AHDO,CKUC,ALVF,CKUGH,ALVf,GAAkB,CAAzB,EGCa,CESgB,AFThB,CESiB,CAAD,CAAR,CAAjB,EFTK,EAAT;AEUG,AFTH,ACHA,AJED,MIFK,GDGJ,ICHI,CAAA,KDGJ,ECHA,CDGa,KAAb;AEUC,ACDDsB,AHPA,ACJD,AHIC,CGNF,CEaEA,ALPA,KAAA,CAAA,CEAA,GGOU,GAAGE,ELPb,CAAA,GAAA,CEAA,EFAA,CKOuB,AHPW,CGOV,CHPxB,OFAI,IKOgC,ALPpC,EAAgB;AKQd,AHPF,AFDA,ADLF,OAAA,CMaQC,ALRN,ADLF,CGME,IGOW,ALRX,EECA,CGOcC,ALRd,EECS,CAAT,AHNF,CCKE,EDLF,EMawB,CAACC,QNbzB,QMagB,CAA0B,wBAA1B,CAAZ;ADEF,AFRA,SEQO,AFRP,GEQA,EFRA,GAAQ,CAAR;AESD,ACFG,AHNF,AFFE,ADHJ,ICGI,KKQK,AHNP,AFFO,ADHO,CCGN,EEER,CGMWC,CAAC,ALRV,CEEI,AFFO,CEEb,CGMe,CAAb,EAAgBA,ALRA,CKQC,ENXrB,CMWwBH,ENXM,GMWD,ALRzB,CKQ0BI,CLPvB,KKOH,CLRA,CKQkCD,ALPxB,CKOyB,EAAnC,EAAuC,KLP5B,CAAD,EAAE;AKQV,AHNJ,AFFmB,ADHnB,SGKA,AHLO,CMWCrB,ANXA,GGKR,AFFmB,CAAC,CAAC,CKQP,AHNP,CGMQJ,ELRI,CEEnB,EHLoB,CAAC,CCGS,ADHV,CAAb,EMWC,ANXiB,CMWCsB,ALRP,KKQY,CAACG,CAAD,CAAL,CAASb,ENXE,CAAC,CMW9B,ANX6B,CAA9B,CAAP,IMW6CR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AHNN,AFHkC,ADFnC,KCCG,EAEG,CKQCA,CDECN,AFRP,CAAA,GAAI,CFJF,CAEW,EEEb,CGMgB,CDElB,ACFmBsB,CDECrB,GAApB,CCFwB,CDEC,ACFAwB,ALRT,CKQQ,CAAN,CAAV,CLRO,EAAiB;AIW9B,ACFK,AHNL,AFFM,MAAA,GIUC,AFRP,CEQQ,AFRR,CFFU,CAAC,CEEP,EEQSxB,EFRb,CEQO,EAAWC,CJVZ,CAAe,KIUd,CAAmB,AJVpB,CAAsB,IAAtB,iEIUC,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHNH,AFFK,ADPP,KCGI,EDHJ,CAAA,CGSE,QAAA,GAAW,EHTb,GGSE,AHTF,cAAA;AGYI,AFJD,GAND,MEUO,CAAL,GAAS,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAT;AEOJC,ACFIgB,AHJA,AHVJ,IMcIA,GDEG,CAACzB,CFNC,AHVO,KMcF,GAAG,ANdjB,CAAyB,EKgBzB,CCFI,AHJA,AHVJ,EKgBuBD,ALhBK,kBKgB5B;AACAU,ACFG,AHJC,AFLF,ADLA,ECKA,CKAuB,EASpB,EDEE,ACXkB,ALAvB,CIWMH,ACXN,ALAA,CEKO,AHVA,CAAC,IAAI,CGUV,AHVW,ECKb,CIWF,AJXE,EDLQ,CKgBWA,ALhBA,CCKnB,EDLsB,CCKtB,EDLyB,CAAjB,CAAD,EKgBT,ALhB+B,GAAG,CCK3B,EDL8B,CAA5B,CCKP,ADLA,ECKmB,OAAnB,EAAsC;AKUvC,AHJG,AFNiB,ADJpB,QCIoB,CEMZ,MFNY,GEMjB,EFNiB,KAAA,CAAA,EAAA;AEOjB,AFPiB,MAAA,GEOZ,IFPY,EEOjB,CAAY,AFPK,IEOjB,KFPiB;AKYrB2B,AHJI,AFRoC,ADNxC,MMkBM,CAACxB,ANlBP,CAAA,CGcS,KGIT,EHJI,AHdJ,CMkBiBiB,ENlBjB,OMkBA,CNlBA;AGeG;AFRC,ADJJ,ICII,KAAK,ADJO,CCIN,IAAN,ADJJ,CCIe,ADJO,EAAtB,EAAuC,CCInB,SAAhB,EACG,MADH,CACU,UAAC,CAAD,EAAE;AEQd,AFRmB,EEQnB,IHbqB,CGarB,CAAA,CHbwB,GAAA,CCKL,CAAC,ADLI,CCKH,ADLG,CAAA,CGaxB,CAAA,CFRmB,KAAW,IAAX,EEQnB,GAAA,YAAA;AACE,AFTgC,KADhC,CDJwB,CCMrB,EEQE,AHdsB,GAAA,ECI3B,ADJ2B,CGc3B,AFRW,ADNgB,CGcf,AHde,EGc3B,CAAe,KAAf,CFRY,CEQU,KAAK,EFRhB,EAAS,EEQE,CAAY,IAAZ,CAAiB,IAAjB,CAAtB;AACA,AFRI,ADNN,MCMM,GEQC,AHdA,GAAG,ECMI,CEQZ,AFRa,ADNF,CGcC,AHdP,EGcL,CAAe,AHdA,GCMX,ADNN,CCMuB,GEQrB,EAAwB,EFRpB,GEQyB,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAxB;AAEA,AFTG,ADNN,IGeG,CFbA,KEaM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAlC;AACA,AFTD,GAND,CEeE,MAAM,CAAC,gBAAP,CAAwB,WAAxB,EAAqC,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAArC;AACA,AHnBJ,IGmBI,GHnBJ,CAAA,EGmBU,CAAC,EHnBX,GAAA,KAAA,MGmBI,CAAwB,SAAxB,EAAmC,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAAnC;AACA,AFVJ,IEUI,KFVJ,CEUU,CAAC,GFVX,aEUI,CAAwB,YAAxB,EAAsC,KAAK,OAAL,CAAa,IAAb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","file":"threes-clone.77de5100.js","sourceRoot":"..","sourcesContent":["export interface ThreeEvent {\n  type: string;\n  handler: Function;\n}\n\nexport type Point = [number, number];\n\nexport interface Cell {\n  number: number;\n  score: number;\n}\n\nexport const LEFT = [0, -1] as const;\nexport const RIGHT = [0, 1] as const;\nexport const UP = [-1, 0] as const;\nexport const DOWN = [1, 0] as const;\n\nexport type Direction = typeof LEFT | typeof RIGHT | typeof UP | typeof DOWN;\n","import { Point } from \"./interfaces\";\n\nexport function getRandomInt(max: number = 1) {\n  return Math.floor(Math.random() * max);\n}\nexport function getOneOrTwo() {\n  return getRandomInt(2) + 1;\n}\nexport function getRandomPoint(): Point {\n  return [getRandomInt(4), getRandomInt(4)];\n}\nexport function toRowCol(idx): Point {\n  return [Math.floor(idx / 4), idx % 4];\n}\nexport function toIdx([row, col]: Point) {\n  return row * 4 + col;\n}\nexport function pickRandomOne(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n","import { ThreeEvent } from \"../interfaces\";\n\nclass Model {\n  observers: Set<ThreeEvent> = new Set();\n  on(type: string, handler: Function) {\n    this.observers.add({\n      type,\n      handler,\n    });\n  }\n  off(type: string) {\n    Array.from(this.observers)\n      .filter((x) => x.type === type)\n      .forEach((item: ThreeEvent) => {\n        this.observers.delete(item);\n      });\n  }\n  emit(type: string, payload = undefined) {\n    Array.from(this.observers)\n      .filter((x) => x.type === type)\n      .forEach((observer) => {\n        observer.handler(payload);\n      });\n  }\n}\n\nexport default Model;\n","import { Cell, Direction, DOWN, LEFT, Point, RIGHT, UP } from \"../interfaces\";\nimport { getRandomPoint, pickRandomOne, toIdx, toRowCol } from \"../utils\";\nimport Model from \"./index\";\nexport class Matrix extends Model {\n  m: Cell[];\n  constructor() {\n    super();\n    this.m = Array.from({ length: 16 }, () => ({ number: 0, score: 0 }));\n    this.emit(\"init\");\n  }\n  init() {\n    this.m = Array.from({ length: 16 }, () => ({ number: 0, score: 0 }));\n    for (let i = 0; i < 3; i++) {\n      const point = getRandomPoint();\n      const value = pickRandomOne([1, 2, 3]);\n      this.mutate(point, { number: value });\n    }\n    this.emit(\"add\");\n  }\n  getScore() {\n    return this.m.map((x) => x.score).reduce((a, b) => a + b, 0);\n  }\n  add(direction, value) {\n    let col = -1,\n      row = -1;\n    const available = [];\n    const isVertical = direction == LEFT || direction == RIGHT;\n    if (isVertical) {\n      if (direction == LEFT) col = 3;\n      else if (direction == RIGHT) col = 0;\n      for (let row = 0; row < 4; row++) {\n        if (this.at([row, col]).number == 0) {\n          available.push([row, col]);\n        }\n      }\n    } else {\n      if (direction == UP) row = 3;\n      else if (direction == DOWN) row = 0;\n      for (let col = 0; col < 4; col++) {\n        if (this.at([row, col]).number == 0) {\n          available.push([row, col]);\n        }\n      }\n    }\n\n    if (available.length == 0) {\n      return false;\n    }\n    this.mutate(pickRandomOne(available), { number: value });\n    this.emit(\"add\");\n    return true;\n  }\n  isFinished() {\n    return (\n      [UP, DOWN, LEFT, RIGHT]\n        .map((direction) => this.getMoveableCellIndices(direction).length)\n        .reduce((a, b) => a + b, 0) == 0\n    );\n  }\n  merge(direction: Direction) {\n    const [dx, dy] = direction;\n    let cnt = 0;\n    const indices = this.getMoveableCellIndices(direction);\n    indices\n      .map((idx) => toRowCol(idx))\n      .forEach(([row, col]) => {\n        const _x = row + dx,\n          _y = col + dy;\n        const oldCell = this.at([_x, _y]);\n        const newCell = this.at([row, col]);\n        this.mutate([_x, _y], {\n          number: oldCell.number + newCell.number,\n          score: oldCell.score + newCell.score + 2,\n        });\n        this.mutate([row, col], {\n          number: 0,\n          score: 1,\n        });\n        cnt += 1;\n      });\n    this.emit(\"merge\");\n    return cnt;\n  }\n  mutate(point: Point, value: Partial<Cell>) {\n    const idx = toIdx(point);\n    this.m = Object.assign([], this.m, {\n      [idx]: { ...this.at(idx), ...value },\n    });\n  }\n  at(param: number | Point) {\n    const idx = typeof param == \"number\" ? param : toIdx(param);\n    return this.m[idx];\n  }\n  getMoveableCellIndices(direction: Direction) {\n    if (!direction) return [];\n    const [dx, dy] = direction;\n    const indices: number[] = [];\n\n    let isVertical = direction == LEFT || direction == RIGHT;\n    let row = 0,\n      col = 0;\n\n    if (direction == LEFT) col = 1;\n    else if (direction == RIGHT) col = 2;\n    else if (direction == UP) row = 1;\n    else if (direction == DOWN) row = 2;\n\n    for (let i = 0; i < 12; i++) {\n      const _x = dx + row,\n        _y = dy + col;\n      if (\n        (isMergable(this.at([_x, _y]).number, this.at([row, col]).number) ||\n          indices.indexOf(toIdx([_x, _y])) != -1) &&\n        this.at([row, col]).number != 0\n      ) {\n        indices.push(toIdx([row, col]));\n      }\n      if (isVertical) {\n        if (i % 4 == 3) {\n          col -= dy;\n        }\n        row = (row + 1) % 4;\n      } else {\n        if (i % 4 == 3) {\n          row -= dx;\n        }\n        col = (col + 1) % 4;\n      }\n    }\n    return indices;\n  }\n  iterate(callback) {\n    this.m.forEach((cell, idx) => {\n      callback([...toRowCol(idx), idx, cell]);\n    });\n  }\n}\n\nfunction isMergable(a: number, b: number) {\n  if (a == 0 || b == 0) return true;\n  if (a != b && a + b == 3) return true;\n  if (a == b && a + b != 2 && a + b != 4) return true;\n  return false;\n}\n","import { Matrix } from \"./models/matrix\";\r\nimport { Cell, Direction, LEFT, RIGHT, UP, DOWN } from \"./interfaces\";\r\nimport { pickRandomOne } from \"./utils\";\r\n\r\nconst DURATION = 200;\r\nexport default class Board {\r\n  $: HTMLDivElement;\r\n  matrix = new Matrix();\r\n  isDragging = false;\r\n  direction: Direction;\r\n  moveableCells: HTMLDivElement[] = [];\r\n  maxPos = 0;\r\n  delta = 0;\r\n  pos = 0;\r\n  next = null;\r\n  x = null;\r\n  y = null;\r\n  isMoving = false;\r\n\r\n  constructor() {\r\n    this.$ = document.getElementById(\"board\") as HTMLDivElement;\r\n    this.bindHandlers();\r\n    this.render();\r\n    this.setMaxPos();\r\n    this.matrix.init();\r\n    this.setNext();\r\n  }\r\n  bindHandlers() {\r\n    this.matrix.on(\"add\", this.render.bind(this));\r\n    this.matrix.on(\"merge\", this.render.bind(this));\r\n\r\n    window.addEventListener(\"resize\", this.onResize.bind(this));\r\n    window.addEventListener(\"mousedown\", this.dragStart.bind(this));\r\n    window.addEventListener(\"mouseup\", this.dragEnd.bind(this));\r\n    window.addEventListener(\"mouseleave\", this.dragEnd.bind(this));\r\n    window.addEventListener(\"mousemove\", this.dragging.bind(this));\r\n    window.addEventListener(\"touchstart\", this.dragStart.bind(this));\r\n    window.addEventListener(\"touchend\", this.dragEnd.bind(this));\r\n    window.addEventListener(\"touchmove\", this.dragging.bind(this));\r\n    window.addEventListener(\"keydown\", this.onKeyDown.bind(this));\r\n  }\r\n  onKeyDown(event: KeyboardEvent) {\r\n    const { key } = event;\r\n    switch (key) {\r\n      case \"ArrowUp\":\r\n        this.direction = UP;\r\n        break;\r\n      case \"ArrowDown\":\r\n        this.direction = DOWN;\r\n        break;\r\n      case \"ArrowLeft\":\r\n        this.direction = LEFT;\r\n        break;\r\n      case \"ArrowRight\":\r\n        this.direction = RIGHT;\r\n        break;\r\n    }\r\n    this.translate(0, this.maxPos, 60).then(() => {\r\n      this.move();\r\n    });\r\n  }\r\n  onResize() {\r\n    this.setMaxPos();\r\n    this.resizeCards();\r\n    this.translateCells(0);\r\n  }\r\n  dragStart(event) {\r\n    const { clientX, clientY } = this.touchEventHelper(event);\r\n    this.x = clientX;\r\n    this.y = clientY;\r\n    this.isDragging = true;\r\n  }\r\n  dragEnd() {\r\n    let delta = Math.min(this.maxPos, this.delta);\r\n    if (delta / this.maxPos > 0.6) {\r\n      this.translate(delta, this.maxPos, 70).then(() => {\r\n        this.move();\r\n      });\r\n    } else {\r\n      this.translate(delta, 0, 70).then(() => {\r\n        this.isDragging = false;\r\n        this.direction = null;\r\n        this.pos = null;\r\n      });\r\n    }\r\n  }\r\n  move() {\r\n    this.isDragging = false;\r\n    this.delta = 0;\r\n    if (!this.direction) return;\r\n    const merged = this.matrix.merge(this.direction);\r\n    if (merged != 0) {\r\n      this.matrix.add(this.direction, this.next);\r\n    }\r\n    this.direction = null;\r\n    this.setScore();\r\n    this.setNext();\r\n  }\r\n  setScore() {\r\n    const score = this.matrix.getScore();\r\n    (document.body.querySelector(\r\n      \"#score-number\"\r\n    ) as HTMLDivElement).innerText = `${score}`;\r\n  }\r\n  translate(from = 0, to = this.maxPos, duration = 100) {\r\n    const isLocked = this.isMoving == true;\r\n    this.isMoving = true;\r\n    let startAt = null;\r\n    let translateCells = this.translateCells.bind(this);\r\n    function interpolate(timestamp) {\r\n      return ((timestamp - startAt) / duration) * (to - from) + from;\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      if (isLocked) reject();\r\n      const step = (timestamp) => {\r\n        if (!startAt) startAt = timestamp;\r\n        if (timestamp > startAt + duration) {\r\n          resolve();\r\n          this.isMoving = false;\r\n          translateCells(to);\r\n          return;\r\n        }\r\n        translateCells(interpolate(timestamp));\r\n        requestAnimationFrame(step);\r\n      };\r\n      requestAnimationFrame(step);\r\n    });\r\n  }\r\n  touchEventHelper(event: MouseEvent | TouchEvent) {\r\n    if (event instanceof MouseEvent) return event;\r\n    return event.touches[0];\r\n  }\r\n  getNext() {\r\n    let pick = pickRandomOne([1, 2, 3]);\r\n    if (pick == 1 || pick == 2) {\r\n      const numOfOne = this.matrix.m\r\n        .map((cell) => cell.number)\r\n        .filter((x) => x == 1).length;\r\n      const numOfTwo = this.matrix.m\r\n        .map((cell) => cell.number)\r\n        .filter((x) => x == 2).length;\r\n\r\n      if (numOfOne > numOfTwo + 2) return 2;\r\n      else if (numOfTwo > numOfOne + 2) return 1;\r\n      return pick;\r\n    }\r\n    return 3;\r\n  }\r\n  setNext() {\r\n    this.next = this.getNext();\r\n\r\n    (document.body.querySelector(\r\n      \"#next-number\"\r\n    ) as HTMLDivElement).innerText = `${this.next}`;\r\n  }\r\n  dragging(event) {\r\n    if (!this.isDragging) return;\r\n    const { clientX, clientY } = this.touchEventHelper(event);\r\n    const dx = clientX - this.x,\r\n      dy = clientY - this.y;\r\n    if (dx == 0 && dy == 0) return;\r\n    this.x = clientX;\r\n    this.y = clientY;\r\n    const direction = getDirectionFromMovement(dx, dy);\r\n\r\n    if (!this.direction) {\r\n      this.direction = direction;\r\n      this.moveableCells = this.matrix\r\n        .getMoveableCellIndices(direction)\r\n        .map((idx) => this.getCardNodeByIdx(idx));\r\n\r\n      this.pos = this.isVertical() ? clientX : clientY;\r\n    }\r\n    let pos = this.isVertical() ? clientX : clientY;\r\n\r\n    /**\r\n     * delta: 방향에 따른 상대 거리. 내가 맨처음에 의도한 방향으로 움직이고 있으면 부호가 +, 반대 방향으로 움직이고 있으면 -\r\n     */\r\n    const delta =\r\n      (pos - this.pos) *\r\n      (this.isVertical() ? this.direction[1] : this.direction[0]);\r\n\r\n    if (delta < 0) {\r\n      this.direction = null;\r\n      return;\r\n    }\r\n\r\n    this.delta = delta;\r\n\r\n    this.translateCells(Math.min(delta, this.maxPos));\r\n  }\r\n\r\n  translateCells(delta) {\r\n    const [dx, dy] = this.direction ?? [0, 0];\r\n    const indices = this.matrix.getMoveableCellIndices(this.direction);\r\n    this.matrix.iterate(([row, col, idx, cell]) => {\r\n      if (cell.number == 0) return;\r\n      let y = row * this.maxPos,\r\n        x = col * this.maxPos;\r\n\r\n      if (indices.indexOf(idx) != -1) {\r\n        y += delta * dx;\r\n        x += delta * dy;\r\n      }\r\n      const node = this.$.querySelector(\r\n        `.card[idx=\"${idx}\"]`\r\n      ) as HTMLDivElement;\r\n      node.style.zIndex = `${this.matrix.at(idx).score}`;\r\n      node.style.transform = `translate(${x}px, ${y}px)`;\r\n    });\r\n  }\r\n\r\n  isVertical() {\r\n    return this.direction == LEFT || this.direction == RIGHT;\r\n  }\r\n\r\n  render() {\r\n    this.$.querySelectorAll(\".card\").forEach((node) => {\r\n      this.$.removeChild(node);\r\n    });\r\n    this.matrix.iterate(([_, _, idx, cell]) => {\r\n      if (cell.number == 0) return;\r\n      const node = createCardNode(idx);\r\n      changeCardNode(node, cell.number);\r\n      this.$.appendChild(node);\r\n    });\r\n    this.resizeCards();\r\n    this.translateCells(0);\r\n    if (this.matrix.getScore() != 0 && this.matrix.isFinished()) {\r\n      alert(`님 주금! 당신의 점수 [${this.matrix.getScore()}]`);\r\n      this.matrix.init();\r\n      this.setScore();\r\n      return;\r\n    }\r\n  }\r\n\r\n  resizeCards() {\r\n    this.$.querySelectorAll(\".card\").forEach((node) => {\r\n      if (!(node instanceof HTMLDivElement)) return;\r\n      node.style.width = node.style.height = `${this.getCardSize()}px`;\r\n    });\r\n  }\r\n  getCardSize() {\r\n    const cellNode = this.$.querySelector(\".cell\") as HTMLDivElement;\r\n    return cellNode.offsetHeight;\r\n  }\r\n\r\n  setMaxPos() {\r\n    if (this.$.childNodes.length == 0) return 0;\r\n    const gapSize = parseInt(getComputedStyle(this.$).rowGap);\r\n    this.maxPos = gapSize + this.getCardSize();\r\n  }\r\n\r\n  getCardPositionByIdx(idx: number) {\r\n    const { top, left } = this.$.querySelector(\r\n      `.cell[idx=\"${idx}\"]`\r\n    ).getBoundingClientRect();\r\n    return [top, left];\r\n  }\r\n\r\n  getCardNodeByIdx(idx: number) {\r\n    return this.$.querySelector(`.card[idx=\"${idx}\"]`) as HTMLDivElement;\r\n  }\r\n}\r\n\r\nfunction getDirectionFromMovement(movementX, movementY) {\r\n  if (Math.abs(movementX) > Math.abs(movementY)) {\r\n    if (movementX > 0) return RIGHT;\r\n    else return LEFT;\r\n  } else {\r\n    if (movementY > 0) return DOWN;\r\n    else return UP;\r\n  }\r\n}\r\nfunction changeCardNode(node: HTMLDivElement, value: number) {\r\n  node.innerText = `${value}`;\r\n  if (value == 0) {\r\n    node.classList.remove(\"card\");\r\n  } else {\r\n    node.classList.add(\"card\");\r\n  }\r\n  node.setAttribute(\"value\", value + \"\");\r\n}\r\nfunction createCardNode(idx) {\r\n  const node = document.createElement(\"div\");\r\n  node.classList.add(\"card\");\r\n  if (idx !== undefined) {\r\n    node.setAttribute(\"idx\", idx);\r\n  }\r\n  return node;\r\n}\r\n","import Board from \"./Board\";\r\nimport \"./styles/index.css\";\r\nimport \"./styles/cards.css\";\r\n\r\n(function () {\r\n  new Board();\r\n})();\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}